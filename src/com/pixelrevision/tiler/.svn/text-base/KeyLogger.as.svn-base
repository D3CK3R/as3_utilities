package com.pixelrevision.tiler {		import flash.display.Stage;	import flash.events.Event;	import flash.events.EventDispatcher;	import flash.events.KeyboardEvent;		public class KeyLogger extends EventDispatcher{				protected var _keyArray:Array;				/**		 *	@constructor		 *	@param	stage	The instance of the stage.  Needs to be explicitly passed.		 */			public function KeyLogger(stage:Stage){			_keyArray = new Array();			stage.addEventListener(KeyboardEvent.KEY_DOWN, checkKeysDown);			stage.addEventListener(KeyboardEvent.KEY_UP, checkKeysUp);		}				/**		 *	Checks if a key has been pressed.  Only fires once per press.		 */		protected function checkKeysDown(e:KeyboardEvent):void{			if( !_keyArray[e.keyCode] ){				// trace(e.keyCode);				_keyArray[e.keyCode] = true;				dispatchEvent(e);			}		}				/**		 *	Removes a key from the down list.		 */		protected function checkKeysUp(e:KeyboardEvent):void{			_keyArray[e.keyCode] = false;		}				/**		 *	Adds a key to the down list.		 */		public function isDown(value:uint):Boolean{			if(_keyArray[value]){				return true;			}			return false;		}			}	}